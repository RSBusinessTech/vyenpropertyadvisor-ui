
<section class="property-details-container">
  <!-- Image Gallery -->
  <section class="image-gallery">
    <div class="main-image">
      <img [src]="selectedImage" alt="Property Image" />
    </div>

    <div class="thumbnail-list">
      <img
        *ngFor="let img of images"
        [src]="img"
        (click)="selectImage(img)"
        [class.selected]="img === selectedImage"
        alt="Thumbnail"
      />
    </div>
  </section>

  <!-- Property Summary -->
  <section class="property-summary">
    <h1 class="property-name">{{ property.name }}</h1>
    <p class="property-address">{{ property.address }}</p>
    <h2 class="property-price">RM {{ property.price | number }} /month</h2>

    <div class="property-features">
      <div class="feature" *ngFor="let feature of [
        { icon: 'ğŸ›ï¸', value: property.beds, label: 'Bedrooms' },
        { icon: 'ğŸ›', value: property.baths, label: 'Bathrooms' },
        { icon: 'ğŸš˜', value: property.carParks, label: 'Car Parkings' },
        { icon: 'ğŸ“', value: property.sqft, label: 'sq.ft.' },
        { icon: 'ğŸ›‹ï¸', value: property.furnish, label: 'Furnished' }
      ]">
        <span class="feature-value">{{ feature.icon }} {{ feature.value }}</span>
        <span class="feature-label">{{ feature.label }}</span>
      </div>
    </div>
  </section>
</section>

<!-- Contact Card -->
<div class="contact-card">
  <div class="profile-section">
    <img src="assets/images/vyen.webp" alt="Agent photo" class="profile-img" />
    <div class="profile-info">
      <h3>Vyen</h3>
      <p>Property Agent</p>
    </div>
  </div>

  <button class="whatsapp-btn" (click)="openWhatsApp()">
    <i class="fab fa-whatsapp"></i> Chat on WhatsApp
  </button>

  <div class="other-ways">
    <button class="toggle-btn" (click)="toggleEnquiry()">
      Other ways to enquire
      <span [class.rotated]="showEnquiry">â–¼</span>
    </button>

    <div *ngIf="showEnquiry" class="enquiry-options">
      <a href="tel:+60162907662">ğŸ“ Call</a>
      <a href="mailto:vyenpropertyadvisor@gmail.com">âœ‰ï¸ Email</a>
    </div>
  </div>
</div>

<!-- Video Gallery -->
<section class="video-gallery">
  <h2 style="color: red;">See on YouTube</h2>
  <div class="video-grid">
    <iframe
      src="https://www.youtube.com/embed/xeYoAEYxffg"
      title="Kuala Lumpur Stunning Skylines"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen>
    </iframe>

    <iframe
      src="https://www.youtube.com/embed/EsHb3oqIfpE"
      title="Kuala Lumpur Drone Video 2024"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen>
    </iframe>

    <iframe
      src="https://www.youtube.com/embed/y7QaIz66Bjk"
      title="Downtown Kuala Lumpur Aerial Footage"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen>
    </iframe>
  </div>
</section>

<!-- Amenities -->
<section class="amenities-section">
  <h2 class="section-title">Amenities</h2>

  <div class="amenities-grid">
    <div *ngFor="let amenity of displayedAmenities" class="amenity-card">
      <span class="check-icon">âœ”</span>
      <span class="amenity-name">{{ amenity }}</span>
    </div>
  </div>

  <button *ngIf="!showAll" class="see-more-btn" (click)="toggleAmenities()">
    See all {{ amenities.length }} amenities
  </button>

  <button *ngIf="showAll" class="see-more-btn" (click)="toggleAmenities()">
    Show less
  </button>
</section>

<!-- Common Facilities -->
<section class="amenities-section">
  <h2 class="section-title">Common Facilities</h2>

  <div class="amenities-grid">
    <div *ngFor="let commonFacility of displayedCommonFacilities" class="amenity-card">
      <span class="check-icon">âœ”</span>
      <span class="amenity-name">{{ commonFacility }}</span>
    </div>
  </div>

  <button *ngIf="!showAllCommonFacilities" class="see-more-btn" (click)="toggleCommonFacilities()">
    See all {{ commonFacilities.length }} common facilities
  </button>

  <button *ngIf="showAllCommonFacilities" class="see-more-btn" (click)="toggleCommonFacilities()">
    Show less
  </button>
</section>

<!-- Location -->
<div class="content-section">
  <div class="content-container center-text">
    <h2 class="section-title">Location</h2>

    <iframe
      class="google-map"
      [src]="mapUrl | safeUrl"
      referrerpolicy="no-referrer-when-downgrade"
      loading="lazy"
      width="100%"
      height="300">
    </iframe>

    <br><br>

    <!-- Go Back CTA -->
    <section class="cta-realestate">
      <a class="btn-primary" (click)="goBack()">â† Go Back</a>
    </section>
  </div>
</div>

<!-- More Similar Properties -->
<section class="featured-rentals">
  <h1 class="marquee-heading" style="color: red">
    See more available similar properties
  </h1>

  <div class="rent-grid">
    <div class="rent-card" *ngFor="let item of [1, 2, 3, 4, 5, 6]">
      <img src="assets/images/property1.png" loading="lazy" alt="Property {{ item }}" />

      <div class="rent-card-info">
        <h3 style="color: rgb(158, 18, 18);">RM 2500/month</h3>
        <p>
          <strong>Axis Crown @ Axis Pandan</strong><br />
          <small>(Pandan Indah, Ampang)</small><br /><br />
          <small>ğŸ›ï¸ 2 &nbsp;&nbsp;</small>
          <small>ğŸ› 2 &nbsp;&nbsp;</small>
          <small>ğŸš˜ 1 &nbsp;&nbsp;</small>
          <small>ğŸ›‹ï¸ Fully Furnished &nbsp;&nbsp;</small>
          <small>ğŸ“ 750 sq.ft.</small>
        </p>

        <div class="rent-card-actions">
          <button class="details-btn" [routerLink]="['/viewDetails', 'rent', item]">
            View Details
          </button>

          <a href="https://wa.me/+60162907662" target="_blank" class="whatsapp-btn" aria-label="WhatsApp">
            <img src="assets/icons/whatsapp.svg" alt="WhatsApp" />
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
